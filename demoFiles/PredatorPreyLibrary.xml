<?xml version="1.0" encoding="us-ascii"?>
<!DOCTYPE library SYSTEM "DeltaTickFormat.dtd">
<library name="Predator Prey Behavior Library" version="0.5">
    <breed singular="predator" plural="predators" setupNumber="20">
        <ownVar name="energy">
            <setupReporter>random 10</setupReporter>
            <updateReporter>energy - 1</updateReporter>
        </ownVar>
        <setupCode>
set color white
set size 1.5
set label-color blue - 2
setxy random-xcor random-ycor
        </setupCode>
    </breed>
    
    <breed singular="a-prey" plural="prey" setupNumber="100">
        <ownVar name="energy">
            <setupReporter>random 20</setupReporter>
            <updateReporter>energy - 1</updateReporter>
        </ownVar>
        <setupCode>
set color black
set size 1.5
setxy random-xcor random-ycor
        </setupCode>
    </breed>
    
    <go>
if not any? turtles [ stop ]
ask patches with [ pcolor = brown ] [ 
if( random 100 &lt; 50 ) [
    set pcolor green
]
]
    </go>
    
    <setup>
ask patches [ set pcolor brown ]
ask n-of ( count patches / 2 ) patches [ set pcolor green ]
    </setup>
    
    <behavior name="move">
        <commands>
rt random 50
lt random 50
fd 1
        </commands>
    </behavior>
    
    <behavior name="eat-grass-for">
        <input name="energy-gain" default="5"></input>
        <commands>
if( pcolor = green ) [
set energy energy + energy-gain
set pcolor brown 
]
        </commands>
    </behavior>
    
    <behavior name="reproduce">
        <input name="probability" default="4"></input>
        <commands>
if random-float 100 &lt; probability [
set energy (energy / 2)
hatch 1 [ rt random-float 360 fd 1 ]
]
        </commands>
    </behavior>
    
    <behavior name="prey-on-to-get-energy">
        <input name="the-prey" default="eaten"></input>
        <input name="energy-gain" default="20"></input>
        <commands>
let prey one-of turtles-here with [ breed = the-prey ]
if prey != nobody [
    ask prey [ die ]
    set energy energy + energy-gain
]
        </commands>
    </behavior>
    
    <behavior name="die-of-starvation">
        <commands>
if energy &lt; 0 [ die ]
        </commands>
    </behavior>
    
    <condition name="hungry?">
        <test>energy &lt; 10</test>
    </condition>
    
    <condition name="energy-less-than?">
        <input name="energy-level" default="10"></input>
        <test>energy &lt; energy-level</test>
    </condition>
    
    <quantity name="count-of">
        <input name="breed-type" default="people"></input>
        <reporter>count turtles with [ breed = breed-type ]</reporter>
    </quantity>
</library>